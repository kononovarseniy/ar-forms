{% macro menu_item(current_section, section, url, title, classes='') -%}
    <li class="pure-menu-item {{ 'pure-menu-selected' if current_section == section }} {{ classes }}">
        <a href="{{ '#' if current_section == section else url }}" class="pure-menu-link">{{ title }}</a>
    </li>
{%- endmacro %}
<!-- Menu toggle -->
<a href="#menu" id="menu-link">
    <!-- Hamburger icon -->
    <span></span>
</a>

<div id="menu">
    <div class="pure-menu">
        <a class="pure-menu-heading" href="/">ArForms</a>

        <ul class="pure-menu-list">
            {{ menu_item(section, 'about', '/', 'About') }}
            {% if user %}
                {{ menu_item(section, 'dashboard', '/dashboard', 'Dashboard') }}
                {{ menu_item(section, 'results', '/results', 'Results') }}
                <li class="pure-menu-item menu-item-divided"><a href="/logout" class="pure-menu-link">Log out</a></li>
            {% else %}
                {{ menu_item(section, 'login', '/login', 'Log in', classes='menu-item-divided menu-item-login') }}
                {{ menu_item(section, 'signup', '/signup', 'Sign up', classes='menu-item-signup') }}
            {% endif %}
        </ul>
    </div>
</div>